!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.navigation=e():t.navigation=e()}(this,function(){return n=[function(t,e,n){t.exports=n(79)},function(t,e){t=t.exports={version:"2.6.12"},"number"==typeof __e&&(__e=t)},function(t,e,n){var o=n(37)("wks"),r=n(28),i=n(3).Symbol,s="function"==typeof i,t=t.exports=function(t){return o[t]||(o[t]=s&&i[t]||(s?i:r)("Symbol."+t))};t.store=o},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),"number"==typeof __g&&(__g=t)},function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var g=n(3),v=n(1),y=n(51),m=n(11),_=n(9),x="prototype",b=function(t,e,n){var o,r,i,s=t&b.F,u=t&b.G,a=t&b.S,l=t&b.P,c=t&b.B,p=t&b.W,f=u?v:v[e]||(v[e]={}),h=f[x],d=u?g:a?g[e]:(g[e]||{})[x];for(o in u&&(n=e),n)r=!s&&d&&void 0!==d[o],r&&_(f,o)||(i=(r?d:n)[o],f[o]=u&&"function"!=typeof d[o]?n[o]:c&&r?y(i,g):p&&d[o]==i?function(o){var t=function(t,e,n){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(t);case 2:return new o(t,e)}return new o(t,e,n)}return o.apply(this,arguments)};return t[x]=o[x],t}(i):l&&"function"==typeof i?y(Function.call,i):i,l&&((f.virtual||(f.virtual={}))[o]=i,t&b.R&&h&&!h[o]&&m(h,o,i)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,t.exports=b},function(t,e,n){var o=n(14),r=n(52),i=n(33),s=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(t,o.key,o)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(6),r=n(16);t.exports=n(7)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var o=n(55),r=n(26);t.exports=function(t){return o(r(t))}},function(t,e,n){var o=n(15);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var o=n(0),r=n(4);o(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(82)),s=r(n(8)),u=r(n(88)),n=function t(e){(0,s.default)(this,t),this.size=u.default.FMMap_CONTROL_NORMAL,this.position=null,this.offset=new fm.Vector2(0,0),this.imgURL="resource/style/wedgets/img/",(0,i.default)(this,e)},n=n;e.default=n},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var o=n(58)("wks"),r=n(59),i=n(20).Symbol,s="function"==typeof i,t=t.exports=function(t){return o[t]||(o[t]=s&&i[t]||(s?i:r)("Symbol."+t))};t.store=o},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),"number"==typeof __g&&(__g=t)},function(t,e,n){var o=n(18);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";n=n(0),n(e,"__esModule",{value:!0}),e.default=void 0,n={LEFT_TOP:1,LEFT_BOTTOM:2,RIGHT_TOP:3,RIGHT_BOTTOM:4},e.default=n},function(t,e){t.exports={}},function(t,e,n){var o=n(54),r=n(38);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(26);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";var o=n(0),r=n(4);o(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(40));n(94);var s=r(n(8)),u=r(n(10)),n=function(){function t(){(0,s.default)(this,t)}return(0,u.default)(t,null,[{key:"toColor",value:function(t){if("number"==typeof t)return t;var e=t.split(",");return 3<=e.length?(0,i.default)(e[0])<<16|(0,i.default)(e[1])<<8|(0,i.default)(e[2]):(console.error("color format error",t),0)}},{key:"toRgba",value:function(t){if("number"==typeof t)return"rgba("+(0,i.default)(255*new fm.Color(t).r)+","+(0,i.default)(255*new fm.Color(t).g)+","+(0,i.default)(255*new fm.Color(t).b)+",1)";var e=t.split(",");return 3<=e.length?"rgba("+(0,i.default)(e[0])+","+(0,i.default)(e[1])+","+(0,i.default)(e[2])+",1)":t}},{key:"bindEvent",value:function(t,i,e,s){t.addEventListener(e,function(t){var e,n=t||window.event,o=n.target||n.srcElement,r=n.currentTarget;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n});o!==r;)o.matches(i)&&(e=o,s.call(e,n)),o=o.parentNode})}},{key:"toSceneCoord",value:function(t,e){var n=0;return e.groupID&&(n=t.getFMGroup(e.groupID).height),new fm.Vector3(e.x-t.center.x,t.center.y+n,-e.y+t.center.y)}},{key:"removeFormArray",value:function(t,e){e=t.indexOf(e),-1<e&&t.splice(e,1)}},{key:"scrollTopAnFun",value:function(){var g,v=!1;return function e(n){var o=n.el,r=n.to,t=n.form,i=(n.time,r<t?"up":"bottom"),s=t<r?r-t:r==t?0:t-r,u=10,a=s/u,l=0,c=function(t){var e=t.val,n=t.nbak,o=t.n,t=t.elTop;return"up"==i?t+(n-o)*e:t-(n-o)*e};function p(){g=0,window.setTimeout(function(){var t=Object(n,{to:o.scrollTop});v=!1,e(t)},u+1)}var f=function(){v=!1,g=!1,0==t&&(o.scrollTop=0)},h=function t(){var e;g--,g<=0?f():(e=function(){!1!==g&&(l=c({val:u,nbak:a,n:g,elTop:r,VDIRECTIONE:i}),l&&(o.scrollTop=l),t())},window.setTimeout(e,u))};function d(){v?p():(v=!0,g=a,h())}d()}}},{key:"toVector",value:function(t){return t.hasOwnProperty("z")?new fm.Vector3(t.x,t.y,t.z):new fm.Vector2(t.x,t.y)}},{key:"sleep",value:function(t){for(var e=(new Date).getTime(),n=0;n<1e7&&!((new Date).getTime()-e>t);n++);}}]),t}(),n=n;e.default=n},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(15);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?o:n)(t)}},function(t,e,n){var o=n(37)("keys"),r=n(28);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var o=n(1),r=n(3),i="__core-js_shared__",s=r[i]||(r[i]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n(27)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){t.exports=n(90)},function(t,e){t=t.exports={version:"2.6.12"},"number"==typeof __e&&(__e=t)},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?o:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var o=n(42),r=Math.min;t.exports=function(t){return 0<t?r(o(t),9007199254740991):0}},function(t,e,n){"use strict";var o,s=n(100),u=RegExp.prototype.exec,a=String.prototype.replace,r=u,l="lastIndex",c=(o=/a/,n=/b*/g,u.call(o,"a"),u.call(n,"a"),0!==o[l]||0!==n[l]),p=void 0!==/()??/.exec("")[1],n=c||p;n&&(r=function(t){var e,n,o,r,i=this;return p&&(n=new RegExp("^"+i.source+"$(?!\\s)",s.call(i))),c&&(e=i[l]),o=u.call(i,t),c&&o&&(i[l]=i.global?o.index+o[0].length:e),p&&o&&1<o.length&&a.call(o[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)}),o}),t.exports=r},function(t,e,n){var o=n(102),r=n(106);t.exports=n(47)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(22)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(6).f,r=n(9),i=n(2)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},function(t,e,n){e.f=n(2)},function(t,e,n){var o=n(3),r=n(1),i=n(27),s=n(49),u=n(6).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=!i&&o.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:s.f(t)})}},function(t,e,n){var i=n(81);t.exports=function(o,r,t){if(i(o),void 0===r)return o;switch(t){case 1:return function(t){return o.call(r,t)};case 2:return function(t,e){return o.call(r,t,e)};case 3:return function(t,e,n){return o.call(r,t,e,n)}}return function(){return o.apply(r,arguments)}}},function(t,e,n){t.exports=!n(7)&&!n(12)(function(){return 7!=Object.defineProperty(n(53)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(15),r=n(3).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,n){var s=n(9),u=n(13),a=n(86)(!1),l=n(36)("IE_PROTO");t.exports=function(t,e){var n,o=u(t),r=0,i=[];for(n in o)n!=l&&s(o,n)&&i.push(n);for(;e.length>r;)s(o,n=e[r++])&&(~a(i,n)||i.push(n));return i}},function(t,e,n){var o=n(34);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){var o=n(35),r=Math.min;t.exports=function(t){return 0<t?r(o(t),9007199254740991):0}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var o=n(41),r=n(20),i="__core-js_shared__",s=r[i]||(r[i]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n(96)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var o=n(98)(!0);t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},function(t,e,n){"use strict";var o=n(99),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){if(n=n.call(t,e),"object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==o(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){"use strict";n(101);var o,a=n(65),l=n(46),c=n(22),p=n(43),f=n(19),h=n(45),d=f("species"),g=!c(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),v=(n=/(?:)/,o=n.exec,n.exec=function(){return o.apply(this,arguments)},n="ab".split(n),2===n.length&&"a"===n[0]&&"b"===n[1]);t.exports=function(n,t,e){var i,o,r=f(n),s=!c(function(){var t={};return t[r]=function(){return 7},7!=""[n](t)}),u=s?!c(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[d]=function(){return e}),e[r](""),!t}):void 0;s&&u&&("replace"!==n||g)&&("split"!==n||v)||(i=/./[r],u=e(p,r,""[n],function(t,e,n,o,r){return e.exec===h?s&&!r?{done:!0,value:i.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),e=u[0],o=u[1],a(String.prototype,n,e),l(RegExp.prototype,r,2==t?function(t,e){return o.call(t,this,e)}:function(t){return o.call(t,this)}))}},function(t,e,n){var d=n(20),g=n(41),v=n(46),y=n(65),m=n(66),_="prototype",x=function(t,e,n){var o,r,i,s=t&x.F,u=t&x.G,a=t&x.S,l=t&x.P,c=t&x.B,p=u?d:a?d[e]||(d[e]={}):(d[e]||{})[_],f=u?g:g[e]||(g[e]={}),h=f[_]||(f[_]={});for(o in u&&(n=e),n)i=!s&&p&&void 0!==p[o],r=(i?p:n)[o],i=c&&i?m(r,d):l&&"function"==typeof r?m(Function.call,r):r,p&&y(p,o,r,t&x.U),f[o]!=r&&v(f,o,i),l&&h[o]!=r&&(h[o]=r)};d.core=g,x.F=1,x.G=2,x.S=4,x.P=8,x.B=16,x.W=32,x.U=64,x.R=128,t.exports=x},function(t,e,n){var i=n(20),s=n(46),u=n(107),a=n(59)("src"),o=n(108),r="toString",l=(""+o).split(r);n(41).inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,n,o){var r="function"==typeof n;r&&(u(n,"name")||s(n,"name",e)),t[e]!==n&&(r&&(u(n,a)||s(n,a,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:o?t[e]?t[e]=n:s(t,e,n):(delete t[e],s(t,e,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[a]||o.call(this)})},function(t,e,n){var i=n(60);t.exports=function(o,r,t){if(i(o),void 0===r)return o;switch(t){case 1:return function(t){return o.call(r,t)};case 2:return function(t,e){return o.call(r,t,e)};case 3:return function(t,e,n){return o.call(r,t,e,n)}}return function(){return o.apply(r,arguments)}}},function(t,e,n){var o=n(43);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";var o=n(64),r=n(111)(1);o(o.P+o.F*!n(116)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var o=n(117),r=n(121),i=n(151),s=n(152);function u(t){return o(t)||r(t)||i(t)||s()}t.exports=u,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(34);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){t.exports=n(11)},function(t,e,r){var o=r(14),i=r(127),s=r(38),u=r(36)("IE_PROTO"),a=function(){},l="prototype",c=function(){var t=r(53)("iframe"),e=s.length,n="<",o=">";for(t.style.display="none",r(128).appendChild(t),t.src="javascript:",t=t.contentWindow.document,t.open(),t.write(n+"script"+o+"document.F=Object"+n+"/script"+o),t.close(),c=t.F;e--;)delete c[l][s[e]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[l]=o(t),n=new a,a[l]=null,n[u]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var o=n(54),r=n(38).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},function(t,e,n){"use strict";var o=n(136)(!0);n(76)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(e=o(t,e),this._i+=e.length,{value:e,done:!1})})},function(t,e,n){"use strict";var y=n(27),m=n(5),_=n(72),x=n(11),b=n(24),w=n(137),k=n(48),O=n(138),M=n(2)("iterator"),T=!([].keys&&"next"in[].keys()),P="@@iterator",S="keys",E="values",C=function(){return this};t.exports=function(t,e,n,o,r,i,s){w(n,e,o);var u,a,l=function(t){if(!T&&t in h)return h[t];switch(t){case S:case E:return function(){return new n(this,t)}}return function(){return new n(this,t)}},c=e+" Iterator",p=r==E,f=!1,h=t.prototype,d=h[M]||h[P]||r&&h[r],g=d||l(r),v=r?p?l("entries"):g:void 0,o="Array"==e&&h.entries||d;if(o&&(t=O(o.call(new t)),t!==Object.prototype&&t.next&&(k(t,c,!0),y||"function"==typeof t[M]||x(t,M,C))),p&&d&&d.name!==E&&(f=!0,g=function(){return d.call(this)}),y&&!s||!T&&!f&&h[M]||x(h,M,g),b[e]=g,b[c]=C,r)if(u={values:p?g:l(E),keys:i?g:l(S),entries:v},s)for(a in u)a in h||_(h,a,u[a]);else m(m.P+m.F*(T||f),e,u);return u}},function(t,e,n){t.exports=n(143)},function(t,e,n){"use strict";var o=n(0),r=n(4);o(e,"__esModule",{value:!0}),e.default=void 0;var i,s=r(n(17)),u=r(n(89)),a=r(n(109)),l=r(n(153)),c=r(n(154)),o=r(n(156)),n=r(n(157)),p={controlOptions:s.default,FMControlOptions:s.default,zoomControl:u.default,FMZoomControl:u.default,scrollGroupsControl:a.default,FMScrollGroupsControl:a.default,buttonGroupsControl:l.default,FMButtonGroupsControl:l.default,toolControl:c.default,FMToolControl:c.default,FMPopInfoWindow:o.default,FMCompassControl:n.default};for(i in p)p.hasOwnProperty(i)&&(fengmap[i]=p[i]);n=fengmap,e.default=n},function(t,e,n){n(80);var o=n(1).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e,n){var o=n(5);o(o.S+o.F*!n(7),"Object",{defineProperty:n(6).f})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports=n(83)},function(t,e,n){n(84),t.exports=n(1).Object.assign},function(t,e,n){var o=n(5);o(o.S+o.F,"Object",{assign:n(85)})},function(t,e,n){"use strict";var f=n(7),h=n(25),d=n(39),g=n(29),v=n(30),y=n(55),r=Object.assign;t.exports=!r||n(12)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=r({},t)[n]||Object.keys(r({},e)).join("")!=o})?function(t,e){for(var n=v(t),o=arguments.length,r=1,i=d.f,s=g.f;r<o;)for(var u,a=y(arguments[r++]),l=i?h(a).concat(i(a)):h(a),c=l.length,p=0;p<c;)u=l[p++],f&&!s.call(a,u)||(n[u]=a[u]);return n}:r},function(t,e,n){var a=n(13),l=n(56),c=n(87);t.exports=function(u){return function(t,e,n){var o,r=a(t),i=l(r.length),s=c(n,i);if(u&&e!=e){for(;s<i;)if(o=r[s++],o!=o)return!0}else for(;s<i;s++)if((u||s in r)&&r[s]===e)return u||s||0;return!u&&-1}}},function(t,e,n){var o=n(35),r=Math.max,i=Math.min;t.exports=function(t,e){return t=o(t),t<0?r(t+e,0):i(t,e)}},function(t,e,n){"use strict";n=n(0),n(e,"__esModule",{value:!0}),e.default=void 0,n={FMMap_CONTROL_SMALL:"small",FMMap_CONTROL_NORMAL:"normal"},e.default=n},function(t,e,n){"use strict";var o=n(0),r=n(4);o(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(8)),s=r(n(10)),u=r(n(31)),a=r(n(23)),l=r(n(17)),n=function(){function n(t,e){(0,i.default)(this,n),this._map=t,this._ctrlOpts=new l.default(e),this._ctrlOpts.offset||(this._ctrlOpts.offset={x:0,y:0}),this._dom=null,this._imgUrl=e.imgURL||"resource/style/wedgets/img/",this.init()}return(0,s.default)(n,[{key:"init",value:function(){var e=this,n=this.createPanel();this._dom=n;var o=this;this.checkPosition(this._ctrlOpts.position,this._ctrlOpts.offset,n),u.default.bindEvent(n,"img","mouseover",function(t){this.src=this.dataset.on}),u.default.bindEvent(n,"img","mouseout",function(t){this.src=this.dataset.leave}),u.default.bindEvent(n,"div","click",function(t){"in"===this.dataset.type?o._map.dollyIn():o._map.dollyOut()}),this._map.on("dispose",function(t){e._map.getContainer().removeChild(n)})}},{key:"showZoom",value:function(t){this._dom.style.display=t?"block":"none"}},{key:"createPanel",value:function(){var t=document.createElement("div");return t.setAttribute("class","fm-control-zoom"),t.style.zIndex=20,t.style.position="absolute",t.style.backgroundColor="white",t.style.boxShadow="2px 2px 3px rgba(0,0,0, 0.3)",t.style.borderRadius="2px",t.style.left=0,t.style.top=0,this._map.getContainer().appendChild(t),t.innerHTML=this.createInnerHtml(this._imgUrl+"zoomout.png",this._imgUrl+"zoomout_on.png",this._imgUrl+"zoomin.png",this._imgUrl+"zoomin_on.png"),t}},{key:"createInnerHtml",value:function(t,e,n,o){return e='\n       \n            <div data-type="in" style="padding: 14px; cursor: pointer;">\n            <img src='.concat(n," data-leave=").concat(n," data-on=").concat(o,' style="width: 14px; height: 14px;"/>\n             </div>\n            <hr style="height: 1px; border-top: 1px solid rgba(153, 153, 153, 0.45); border-right: none; border-bottom: none; border-left: none; border-image: initial; width: 60%; margin: 0px 20%;">\n            <div data-type="out" style="padding: 14px; cursor: pointer;">\n            <img src=').concat(t," data-leave=").concat(t," data-on=").concat(e,' style="width: 14px; height: 14px;"/>\n            </div>\n        '),e}},{key:"checkPosition",value:function(t,e,n){switch(n.style.left="",n.style.right="",n.style.top="",n.style.bottom="",t){case a.default.LEFT_TOP:n.style.left=e.x+"px",n.style.top=e.y+"px";break;case a.default.RIGHT_TOP:n.style.right=-e.x+"px",n.style.top=e.y+"px";break;case a.default.LEFT_BOTTOM:n.style.left=e.x+"px",n.style.bottom=-e.y+"px";break;case a.default.RIGHT_BOTTOM:n.style.right=-e.x+"px",n.style.bottom=-e.y+"px"}}}]),n}(),n=n;e.default=n},function(t,e,n){n(91),t.exports=n(1).parseInt},function(t,e,n){var o=n(5),n=n(92);o(o.G+o.F*(parseInt!=n),{parseInt:n})},function(t,e,n){var o=n(3).parseInt,r=n(93).trim,n=n(57),i=/^[-+]?0[xX]/;t.exports=8!==o(n+"08")||22!==o(n+"0x16")?function(t,e){return t=r(String(t),3),o(t,e>>>0||(i.test(t)?16:10))}:o},function(t,e,n){var i=n(5),o=n(26),s=n(12),u=n(57),n="["+u+"]",a="​",r=RegExp("^"+n+n+"*"),l=RegExp(n+n+"*$"),n=function(t,e,n){var o={},r=s(function(){return!!u[t]()||a[t]()!=a}),e=o[t]=r?e(c):u[t];n&&(o[n]=e),i(i.P+i.F*r,"String",o)},c=n.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(r,"")),2&e&&(t=t.replace(l,"")),t};t.exports=n},function(t,e,n){"use strict";var p=n(95),y=n(21),m=n(97),_=n(61),x=n(44),b=n(62),f=n(45),o=n(22),w=Math.min,h=[].push,s="split",k="length",O="lastIndex",M=4294967295,T=!o(function(){RegExp(M,"y")});n(63)("split",2,function(r,i,d,g){var v="c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[k]||2!="ab"[s](/(?:ab)*/)[k]||4!="."[s](/(.?)(.?)/)[k]||1<"."[s](/()()/)[k]||""[s](/.?/)[k]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!p(t))return d.call(n,t,e);for(var o,r,i,s=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),a=0,l=void 0===e?M:e>>>0,c=new RegExp(t.source,u+"g");(o=f.call(c,n))&&(r=c[O],!(a<r&&(s.push(n.slice(a,o.index)),1<o[k]&&o.index<n[k]&&h.apply(s,o.slice(1)),i=o[0][k],a=r,s[k]>=l)));)c[O]===o.index&&c[O]++;return a===n[k]?!i&&c.test("")||s.push(""):s.push(n.slice(a)),s[k]>l?s.slice(0,l):s}:"0"[s](void 0,0)[k]?function(t,e){return void 0===t&&0===e?[]:d.call(this,t,e)}:d;return[function(t,e){var n=r(this),o=null==t?void 0:t[i];return void 0!==o?o.call(t,n,e):v.call(String(n),t,e)},function(t,e){var n=g(v,t,this,e,v!==d);if(n.done)return n.value;var o=y(t),r=String(this),n=m(o,RegExp),i=o.unicode,t=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(T?"y":"g"),s=new n(T?o:"^(?:"+o.source+")",t),u=void 0===e?M:e>>>0;if(0===u)return[];if(0===r.length)return null===b(s,r)?[r]:[];for(var a=0,l=0,c=[];l<r.length;){s.lastIndex=T?l:0;var p,f=b(s,T?r:r.slice(l));if(null===f||(p=w(x(s.lastIndex+(T?0:l)),r.length))===a)l=_(r,l,i);else{if(c.push(r.slice(a,l)),c.length===u)return c;for(var h=1;h<=f.length-1;h++)if(c.push(f[h]),c.length===u)return c;l=a=p}}return c.push(r.slice(a)),c}]})},function(t,e,n){var o=n(18),r=n(32),i=n(19)("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},function(t,e){t.exports=!1},function(t,e,n){var o=n(21),r=n(60),i=n(19)("species");t.exports=function(t,e){var n,t=o(t).constructor;return void 0===t||null==(n=o(t)[i])?e:r(n)}},function(t,e,n){var s=n(42),u=n(43);t.exports=function(i){return function(t,e){var n,o=String(u(t)),r=s(e),t=o.length;return r<0||t<=r?i?"":void 0:(e=o.charCodeAt(r),e<55296||56319<e||r+1===t||(n=o.charCodeAt(r+1))<56320||57343<n?i?o.charAt(r):e:i?o.slice(r,r+2):n-56320+(e-55296<<10)+65536)}}},function(t,e,n){var o=n(32),r=n(19)("toStringTag"),i="Arguments"==o(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=s(e=Object(t),r))?t:i?o(e):"Object"==(t=o(e))&&"function"==typeof e.callee?"Arguments":t}},function(t,e,n){"use strict";var o=n(21);t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var o=n(45);n(64)({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},function(t,e,n){var o=n(21),r=n(103),i=n(105),s=Object.defineProperty;e.f=n(47)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(47)&&!n(22)(function(){return 7!=Object.defineProperty(n(104)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(18),r=n(20).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,n){var r=n(18);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=n(58)("native-function-to-string",Function.toString)},function(t,e,n){"use strict";var o=n(0),r=n(4);o(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(40));n(110),n(68);var s,u=r(n(69)),a=r(n(8)),l=r(n(10)),c=r(n(31)),p=r(n(23)),f=r(n(17)),n=function(){function n(t,e){(0,a.default)(this,n),this._map=t,this._ctlOpt=new f.default(e),this._btnWidth=42,this._showBtnCount=this._ctlOpt.showBtnCount||5,this._foucusId=this._map.currentFocusGroup,this._scrollSpeed=10,this._btnPanel=null,this._mainPanel=null,this._ctlOpt.offset||(this._ctlOpt.offset={x:0,y:0}),this._ctlOpt.needAllLayerBtn=null==this._ctlOpt.needAllLayerBtn||this._ctlOpt.needAllLayerBtn,this._allLayer=this._ctlOpt.allLayer||!1,this._allLayer&&this._map.showSingerOrMultiGroup(this._allLayer),this.uuid=null,this.init(),this.scrollTopAn_=new c.default.scrollTopAnFun}return(0,l.default)(n,[{key:"init",value:function(){var n=this,t=new Date,e=t.getFullYear(),o=t.getMonth(),r=t.getDate(),i=t.getHours(),s=t.getMinutes(),t=t.getSeconds();i<10&&(i="0"+i),s<10&&(s="0"+s),t<10&&(t="0"+t),r=e+"/"+o+"/"+r+"/"+i+":"+s+":"+t,this.uuid=String(5*Math.random()).replace(/^(.*\..{4}).*$/,"$1")+r;var u=this.createPanel(this._btnWidth);this._mainPanel=u,this.checkPosition(this._ctlOpt.position,this._ctlOpt.offset,u),this._map.getContainer().appendChild(u),i=this._map.listGroups.map(function(t){return t.gid}),s=i.length,t=this._showBtnCount,r=!0,s<=this._showBtnCount&&(t=s,r=!1),s=this.createMultiSwitchButton(this._ctlOpt.imgURL+(this._ctlOpt.allLayer?"layers.png":"layer.png")),this._ctlOpt.needAllLayerBtn&&u.appendChild(s),this._switchBtn=s,r&&u.appendChild(this.createScrollButton(this._ctlOpt.imgURL+"arrow1.png","top"));var a=this.createGroupBtnPanel(t*this._btnWidth+2*(t-1));u.appendChild(a),this._btnPanel=a;for(var l=this._map.listGroups,c=l.length-1;-1<c;c--)a.appendChild(this.createGroupButton(l[c],this._btnWidth)),0<c&&a.appendChild(this.createHr());r&&u.appendChild(this.createScrollButton(this._ctlOpt.imgURL+"arrow2.png","buttom")),a.scrollTop=this.getCenterScrolltopById(this._foucusId,i.length),document.getElementById("gid_"+this._foucusId+this.uuid).style.color="rgb(30, 130, 250)",this.eventBtnPanelInit(a),this.eventPanelInit(u,a,i),this.eventSwitchBtn(s);var p=function(t){var e=n._map.listGroups.map(function(t){return t.gid});t.gid<e[0]||t.gid>e[e.length-1]||(a.scrollTop=n.getCenterScrolltopById(t.gid,e.length),n.setFocusStaus(t.gid))},f=function(t){1<t.gids.length?n.setLayerStatus(!0):n.setLayerStatus(!1)};this._map.on("focusGroupIDChanged",p),this._map.on("visibleGroupIDsChanged",f),this._map.on("dispose",function(t){n._map.off("focusGroupIDChanged",p),n._map.off("visibleGroupIDsChanged",f),n._map.getContainer().removeChild(u)}),this._$=function(t){return(n.map?n.map.mapView.container_:document).querySelector(t)}}},{key:"eventSwitchBtn",value:function(e){var n=this;e.addEventListener("click",function(t){n._allLayer=!n._allLayer,n._allLayer?e.firstElementChild.src=n._ctlOpt.imgURL+"layers.png":e.firstElementChild.src=n._ctlOpt.imgURL+"layer.png",n._map.showSingerOrMultiGroup(n._allLayer)})}},{key:"eventBtnPanelInit",value:function(n){var o=this,r=this;r.changeScrollBtnPic(),c.default.bindEvent(n,"label","click",function(){r.foucusId=(0,i.default)(this.dataset.gid),r.setFocusStaus(this.dataset.gid)});var t=function(t){r.changeScrollBtnPic();var e=0;t.wheelDelta?e+=-t.wheelDelta:t.detail&&(e+=t.detail),o.scrollTopAn_({el:n,to:n.scrollTop,form:n.scrollTop+e})};n.addEventListener("mousewheel",t,{passive:!0}),n.addEventListener("MozMousePixelScroll",t,!1),n.addEventListener("touchstart",this.touchstart.bind(this),!1),n.addEventListener("touchmove",this.touchmove.bind(this),!1),n.addEventListener("touchend",this.touchend.bind(this),!0)}},{key:"touchstart",value:function(t){t.preventDefault(),this.touchStartPointY=t.touches[0].pageY,this.touchPointX=t.touches[0].pageX,this.touchPointY=t.touches[0].pageY}},{key:"touchmove",value:function(t){t.preventDefault(),this.touchEndPointX=t.touches[0].pageX,this.touchEndPointY=t.touches[0].pageY,this.handleTouchEnd(t)}},{key:"handleTouchEnd",value:function(t){t=t||window.event;var e=this,n=null,o=0;0<t.changedTouches.length&&(e.touchEndPointX=t.changedTouches[0].pageX,e.touchEndPointY=t.changedTouches[0].pageY),n=t.target,n instanceof HTMLSpanElement==1&&(n=n.parentElement),n=e.touchEndPointY-e.touchPointY,o=-n,0!=o&&(e.touchPointX=e.touchEndPointX,e.touchPointY=e.touchEndPointY,e=e._$(".fm-layer-list"),this.scrollTopAn_({el:e,to:e.scrollTop,form:e.scrollTop+o}))}},{key:"touchend",value:function(t){t=t||window.event;var e=this,n=null;0<t.changedTouches.length&&(e.touchEndPointX=t.changedTouches[0].pageX,e.touchEndPointY=t.changedTouches[0].pageY),n=t.target,n instanceof HTMLSpanElement==1&&(n=n.parentElement),t=Math.abs(e.touchEndPointY-e.touchStartPointY),t<5&&0<=t&&n&&(n=(0,i.default)(n.dataset.gid),isNaN(n)||(e.foucusId=n,e.setFocusStaus(n)))}},{key:"eventPanelInit",value:function(t,s,u){var a=this;t.onselectstart=function(){return!1},t.style.MozUserSelect="none",c.default.bindEvent(t,".scroll","click",function(t){var e=u.length-Math.floor(s.scrollTop/44)-(a._showBtnCount-1),n=s.scrollTop%44,o=e+a._showBtnCount-1+(0<n?1:0),r=0;if(this.id==="scroll_top"+a.uuid){var i=a._foucusId+1,i=Math.min(u[u.length-1],i);if(a.foucusId==i)return;a.foucusId=i,i<e?r-=0<n?44-n:0:i<=o+1&&i===o+1&&(r-=44+(0<n?44-n:0))}else{if(i=a._foucusId-1,i=Math.max(u[0],i),a.foucusId==i)return;a.foucusId=i,o<i?r+=0<n?n:0:e-1<=i&&i===e-1&&(r+=44+(0<n?n:0))}0!=r&&a.scrollTopAn_({el:s,to:s.scrollTop,form:s.scrollTop+r})})}},{key:"getCenterScrolltopById",value:function(t,e){return t=e-t-Math.floor(this._showBtnCount/2),t*(this._btnWidth+2)}},{key:"createPanel",value:function(t){var e=document.createElement("div"),n='\n            <div class="fm-control-groups" style ="z-index: 20;width: 42px; position: absolute; background-color: white; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; top: 30px; right: 30px;"></div>\n        ';return e.innerHTML=n.trim(),e.firstChild}},{key:"createGroupBtnPanel",value:function(t){var e=document.createElement("div"),t='\n            <div style = "overflow: hidden; height: '.concat(t,'px;" class="fm-layer-list"> </div\n        ');return e.innerHTML=t.trim(),e.firstChild}},{key:"createMultiSwitchButton",value:function(t){var e=document.createElement("div"),t='\n            <div class="fm-control-groups-layer fm-btn-layer" style="padding: 10px; cursor: pointer;">\n                <img src="'.concat(t,'" style="width: 22px; height: 22px;">\n            </div>\n            ');return e.innerHTML=t.trim(),e.firstChild}},{key:"createHr",value:function(){var t=document.createElement("div"),e='\n            <hr style="height: 1px; border-top: 1px solid rgba(153, 153, 153, 0.45); border-right: none; border-bottom: none; border-left: none; border-image: initial; width: 60%; margin: 0px 20%;">\n        ';return t.innerHTML=e.trim(),t.firstChild}},{key:"createScrollButton",value:function(t,e){var n=document.createElement("div"),t='\n            <div class="scroll" id="scroll_'.concat(e+this.uuid,'" style="height: 18px; background: url(&quot;').concat(t,'&quot;) 50% 50% no-repeat; cursor: pointer;"></div>\n        ');return n.innerHTML=t.trim(),n.firstChild}},{key:"createGroupButton",value:function(t,e){var n=document.createElement("div"),t="<label  data-gid=".concat(t.gid,' id="gid_').concat(t.gid+this.uuid,'" style="display: inline-block; text-align: center; width: ').concat(e,"px; height: ").concat(e,"px; line-height: ").concat(e,'px; margin: 0px; cursor: pointer; font-size: 0.8em; font-weight: bold; color: rgb(102, 102, 102);">\n                        <span>').concat(t.alias&&t.alias.toUpperCase()||t.gname.toUpperCase(),"</span>\n                    </label>");return n.innerHTML=t.trim(),n.firstChild}},{key:"changeScrollBtnPic",value:function(){var t=this._foucusId,e=this._map.listGroups.map(function(t){return t.gid}),n=document.getElementById("scroll_buttom"+this.uuid),o=document.getElementById("scroll_top"+this.uuid);t==e[0]?n&&(n.style.backgroundImage="url("+this._ctlOpt.imgURL+"arrow4.png)"):n&&(n.style.backgroundImage="url("+this._ctlOpt.imgURL+"arrow2.png)"),t==e[e.length-1]?o&&(o.style.backgroundImage="url("+this._ctlOpt.imgURL+"arrow3.png)"):o&&(o.style.backgroundImage="url("+this._ctlOpt.imgURL+"arrow1.png)")}},{key:"changeFocusGroup",value:function(t){this.foucusId=t}},{key:"changeGroupsSelect",value:function(t){this.setLayerStatus(t),this._map.showSingerOrMultiGroup(t)}},{key:"setLayerStatus",value:function(t){this._allLayer=t,this._allLayer?this._switchBtn.firstElementChild.src=this._ctlOpt.imgURL+"layers.png":this._switchBtn.firstElementChild.src=this._ctlOpt.imgURL+"layer.png"}},{key:"checkPosition",value:function(t,e,n){switch(n.style.left="",n.style.right="",n.style.top="",n.style.bottom="",t){case p.default.LEFT_TOP:n.style.left=e.x+"px",n.style.top=e.y+"px";break;case p.default.RIGHT_TOP:n.style.right=-e.x+"px",n.style.top=e.y+"px";break;case p.default.LEFT_BOTTOM:n.style.left=e.x+"px",n.style.bottom=-e.y+"px";break;case p.default.RIGHT_BOTTOM:n.style.right=-e.x+"px",n.style.bottom=-e.y+"px";break;default:n.style.left=e.x+"px",n.style.top=e.y+"px"}}},{key:"onChange",value:function(t){s=t}},{key:"foucusId",get:function(){return this._map.currentFocusGroup},set:function(t){var e=[];e.push.apply(e,(0,u.default)(this._map.visibleGroupIDs)),1==e.length?this._map.visibleGroupIDs=[t]:-1<this._map.visibleGroupIDs.indexOf(t)||(e.push(t),this._map.visibleGroupIDs=e),this._map.changeFocusToGroup({gid:t}),s&&s([t],1<this._map.visibleGroupIDs.length)}},{key:"setFocusStaus",value:function(t){document.getElementById("gid_"+this._foucusId+this.uuid).style.color="rgb(102, 102, 102)",this._foucusId=(0,i.default)(t),document.getElementById("gid_"+this._foucusId+this.uuid).style.color="rgb(30, 130, 250)",this.changeScrollBtnPic()}},{key:"allLayer",get:function(){return this._map.showAllGroup}}]),n}(),n=n;e.default=n},function(t,e,n){"use strict";var k=n(21),o=n(67),O=n(44),M=n(42),T=n(61),P=n(62),S=Math.max,E=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,C=function(t){return void 0===t?t:String(t)};n(63)("replace",2,function(r,i,x,b){return[function(t,e){var n=r(this),o=null==t?void 0:t[i];return void 0!==o?o.call(t,n,e):x.call(String(n),t,e)},function(t,e){var n=b(x,t,this,e);if(n.done)return n.value;var o=k(t),r=String(this),i="function"==typeof e;i||(e=String(e));var s,u=o.global;u&&(s=o.unicode,o.lastIndex=0);for(var a=[];;){var l=P(o,r);if(null===l)break;if(a.push(l),!u)break;var c=String(l[0]);""===c&&(o.lastIndex=T(r,O(o.lastIndex),s))}for(var p="",f=0,h=0;h<a.length;h++){for(var l=a[h],d=String(l[0]),g=S(E(M(l.index),r.length),0),v=[],y=1;y<l.length;y++)v.push(C(l[y]));var m,_=l.groups,_=i?(m=[d].concat(v,g,r),void 0!==_&&m.push(_),String(e.apply(void 0,m))):w(d,r,g,v,_,e);f<=g&&(p+=r.slice(f,g)+_,f=g+d.length)}return p+r.slice(f)}];function w(i,s,u,a,l,t){var c=u+i.length,p=a.length,e=d;return void 0!==l&&(l=o(l),e=h),x.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return i;case"`":return s.slice(0,u);case"'":return s.slice(c);case"<":n=l[e.slice(1,-1)];break;default:var o=+e;if(0===o)return t;if(p<o){var r=f(o/10);return 0!==r&&r<=p?void 0===a[r-1]?e.charAt(1):a[r-1]+e.charAt(1):t}n=a[o-1]}return void 0===n?"":n})}})},function(t,e,n){var _=n(66),x=n(112),b=n(67),w=n(44),o=n(113);t.exports=function(p,t){var f=1==p,h=2==p,d=3==p,g=4==p,v=6==p,y=5==p||v,m=t||o;return function(t,e,n){for(var o,r,i=b(t),s=x(i),u=_(e,n,3),a=w(s.length),l=0,c=f?m(t,a):h?m(t,0):void 0;l<a;l++)if((y||l in s)&&(o=s[l],r=u(o,l,i),p))if(f)c[l]=r;else if(r)switch(p){case 3:return!0;case 5:return o;case 6:return l;case 2:c.push(o)}else if(g)return!1;return v?-1:d||g?g:c}}},function(t,e,n){var o=n(32);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){var o=n(114);t.exports=function(t,e){return new(o(t))(e)}},function(t,e,n){var o=n(18),r=n(115),i=n(19)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),o(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var o=n(32);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,n){"use strict";var o=n(22);t.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var o=n(118),r=n(71);function i(t){if(o(t))return r(t)}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){t.exports=n(119)},function(t,e,n){n(120),t.exports=n(1).Array.isArray},function(t,e,n){var o=n(5);o(o.S,"Array",{isArray:n(70)})},function(t,e,n){var o=n(122),r=n(134),i=n(77);function s(t){if(void 0!==o&&null!=t[r]||null!=t["@@iterator"])return i(t)}t.exports=s,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){t.exports=n(123)},function(t,e,n){n(124),n(131),n(132),n(133),t.exports=n(1).Symbol},function(t,e,n){"use strict";var o=n(3),s=n(9),r=n(7),i=n(5),u=n(72),a=n(125).KEY,l=n(12),c=n(37),p=n(48),f=n(28),h=n(2),d=n(49),g=n(50),v=n(126),y=n(70),m=n(14),_=n(15),x=n(30),b=n(13),w=n(33),k=n(16),O=n(73),M=n(129),T=n(130),P=n(39),S=n(6),E=n(25),C=T.f,I=S.f,L=M.f,B=o.Symbol,G=o.JSON,A=G&&G.stringify,F="prototype",j=h("_hidden"),D=h("toPrimitive"),R={}.propertyIsEnumerable,N=c("symbol-registry"),U=c("symbols"),H=c("op-symbols"),z=Object[F],Y="function"==typeof B&&!!P.f,V=o.QObject,W=!V||!V[F]||!V[F].findChild,X=r&&l(function(){return 7!=O(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=C(z,e);o&&delete z[e],I(t,e,n),o&&t!==z&&I(z,e,o)}:I,$=function(t){var e=U[t]=O(B[F]);return e._k=t,e},q=Y&&"symbol"==typeof B.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof B},J=function(t,e,n){return t===z&&J(H,e,n),m(t),e=w(e,!0),m(n),s(U,e)?(n.enumerable?(s(t,j)&&t[j][e]&&(t[j][e]=!1),n=O(n,{enumerable:k(0,!1)})):(s(t,j)||I(t,j,k(1,{})),t[j][e]=!0),X(t,e,n)):I(t,e,n)},K=function(t,e){m(t);for(var n,o=v(e=b(e)),r=0,i=o.length;r<i;)J(t,n=o[r++],e[n]);return t},Z=function(t,e){return void 0===e?O(t):K(O(t),e)},Q=function(t){var e=R.call(this,t=w(t,!0));return!(this===z&&s(U,t)&&!s(H,t))&&(!(e||!s(this,t)||!s(U,t)||s(this,j)&&this[j][t])||e)},tt=function(t,e){if(t=b(t),e=w(e,!0),t!==z||!s(U,e)||s(H,e)){var n=C(t,e);return!n||!s(U,e)||s(t,j)&&t[j][e]||(n.enumerable=!0),n}},c=function(t){for(var e,n=L(b(t)),o=[],r=0;n.length>r;)s(U,e=n[r++])||e==j||e==a||o.push(e);return o},V=function(t){for(var e,n=t===z,o=L(n?H:b(t)),r=[],i=0;o.length>i;)!s(U,e=o[i++])||n&&!s(z,e)||r.push(U[e]);return r};Y||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var e=f(0<arguments.length?arguments[0]:void 0),n=function(t){this===z&&n.call(H,t),s(this,j)&&s(this[j],e)&&(this[j][e]=!1),X(this,e,k(1,t))};return r&&W&&X(z,e,{configurable:!0,set:n}),$(e)},u(B[F],"toString",function(){return this._k}),T.f=tt,S.f=J,n(74).f=M.f=c,n(29).f=Q,P.f=V,r&&!n(27)&&u(z,"propertyIsEnumerable",Q,!0),d.f=function(t){return $(h(t))}),i(i.G+i.W+i.F*!Y,{Symbol:B});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)h(et[nt++]);for(var ot=E(h.store),rt=0;ot.length>rt;)g(ot[rt++]);i(i.S+i.F*!Y,"Symbol",{for:function(t){return s(N,t+="")?N[t]:N[t]=B(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),i(i.S+i.F*!Y,"Object",{create:Z,defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:tt,getOwnPropertyNames:c,getOwnPropertySymbols:V}),V=l(function(){P.f(1)}),i(i.S+i.F*V,"Object",{getOwnPropertySymbols:function(t){return P.f(x(t))}}),G&&i(i.S+i.F*(!Y||l(function(){var t=B();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function(t){for(var e,n,o=[t],r=1;r<arguments.length;)o.push(arguments[r++]);if(n=e=o[1],(_(e)||void 0!==t)&&!q(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),o[1]=e,A.apply(G,o)}}),B[F][D]||n(11)(B[F],D,B[F].valueOf),p(B,"Symbol"),p(Math,"Math",!0),p(o.JSON,"JSON",!0)},function(t,e,n){var o=n(28)("meta"),r=n(15),i=n(9),s=n(6).f,u=0,a=Object.isExtensible||function(){return!0},l=!n(12)(function(){return a(Object.preventExtensions({}))}),c=function(t){s(t,o,{value:{i:"O"+ ++u,w:{}}})},p=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,o)){if(!a(t))return"F";if(!e)return"E";c(t)}return t[o].i},f=function(t,e){if(!i(t,o)){if(!a(t))return!0;if(!e)return!1;c(t)}return t[o].w},n=function(t){return l&&h.NEED&&a(t)&&!i(t,o)&&c(t),t},h=t.exports={KEY:o,NEED:!1,fastKey:p,getWeak:f,onFreeze:n}},function(t,e,n){var u=n(25),a=n(39),l=n(29);t.exports=function(t){var e=u(t),n=a.f;if(n)for(var o,r=n(t),i=l.f,s=0;r.length>s;)i.call(t,o=r[s++])&&e.push(o);return e}},function(t,e,n){var s=n(6),u=n(14),a=n(25);t.exports=n(7)?Object.defineProperties:function(t,e){u(t);for(var n,o=a(e),r=o.length,i=0;i<r;)s.f(t,n=o[i++],e[n]);return t}},function(t,e,n){n=n(3).document,t.exports=n&&n.documentElement},function(t,e,n){var o=n(13),r=n(74).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return r(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?u(t):r(o(t))}},function(t,e,n){var o=n(29),r=n(16),i=n(13),s=n(33),u=n(9),a=n(52),l=Object.getOwnPropertyDescriptor;e.f=n(7)?l:function(t,e){if(t=i(t),e=s(e,!0),a)try{return l(t,e)}catch(t){}if(u(t,e))return r(!o.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){n(50)("asyncIterator")},function(t,e,n){n(50)("observable")},function(t,e,n){t.exports=n(135)},function(t,e,n){n(75),n(139),t.exports=n(49).f("iterator")},function(t,e,n){var s=n(35),u=n(26);t.exports=function(i){return function(t,e){var n,o=String(u(t)),r=s(e),t=o.length;return r<0||t<=r?i?"":void 0:(e=o.charCodeAt(r),e<55296||56319<e||r+1===t||(n=o.charCodeAt(r+1))<56320||57343<n?i?o.charAt(r):e:i?o.slice(r,r+2):n-56320+(e-55296<<10)+65536)}}},function(t,e,n){"use strict";var o=n(73),r=n(16),i=n(48),s={};n(11)(s,n(2)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(s,{next:r(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var o=n(9),r=n(30),i=n(36)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){n(140);for(var o=n(3),r=n(11),i=n(24),s=n(2)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<u.length;a++){var l=u[a],c=o[l],c=c&&c.prototype;c&&!c[s]&&r(c,s,l),i[l]=i.Array}},function(t,e,n){"use strict";var o=n(141),r=n(142),i=n(24),s=n(13);t.exports=n(76)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(75),n(144),t.exports=n(1).Array.from},function(t,e,n){"use strict";var p=n(51),o=n(5),f=n(30),h=n(145),d=n(146),g=n(56),v=n(147),y=n(148);o(o.S+o.F*!n(150)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,r,i=f(t),s="function"==typeof this?this:Array,u=arguments.length,a=1<u?arguments[1]:void 0,l=void 0!==a,c=0,t=y(i);if(l&&(a=p(a,2<u?arguments[2]:void 0,2)),null==t||s==Array&&d(t))for(e=g(i.length),n=new s(e);c<e;c++)v(n,c,l?a(i[c],c):i[c]);else for(r=t.call(i),n=new s;!(o=r.next()).done;c++)v(n,c,l?h(r,a,[o.value,c],!0):o.value);return n.length=c,n}})},function(t,e,n){var r=n(14);t.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){throw n=e.return,void 0!==n&&r(n.call(e)),t}}},function(t,e,n){var o=n(24),r=n(2)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||i[r]===t)}},function(t,e,n){"use strict";var o=n(6),r=n(16);t.exports=function(t,e,n){e in t?o.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var o=n(149),r=n(2)("iterator"),i=n(24);t.exports=n(1).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||i[o(t)]}},function(t,e,n){var o=n(34),r=n(2)("toStringTag"),i="Arguments"==o(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=s(e=Object(t),r))?t:i?o(e):"Object"==(t=o(e))&&"function"==typeof e.callee?"Arguments":t}},function(t,e,n){var i=n(2)("iterator"),s=!1;try{var o=[7][i]();o.return=function(){s=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var o=[7],r=o[i]();r.next=function(){return{done:n=!0}},o[i]=function(){return r},t(o)}catch(t){}return n}},function(t,e,n){var o=n(77),r=n(71);function i(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?o(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}t.exports=i,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){"use strict";var o=n(0),r=n(4);o(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(40));n(68);var s,u=r(n(69)),a=r(n(8)),l=r(n(10)),c=r(n(31)),p=r(n(23)),f=r(n(17)),n=function(){function n(t,e){(0,a.default)(this,n),this._map=t,this._ctlOpt=new f.default(e),this._ctlOpt.offset||(this._ctlOpt.offset={x:0,y:0}),this._btnWidth=42,this._showBtnCount=this._ctlOpt.showBtnCount||5,this._foucusId=this._map.currentFocusGroup||1,this._scrollSpeed=10,this._btnPanel=null,this._mainPanel=null,this._enableExpand=!0,this._disMainPanel=30+this._btnWidth,this._btnPanelVsible=!1,this._allLayer=e.allLayer||!1,this._allLayer&&this._map.showSingerOrMultiGroup(this._allLayer),this.scrollTopAn_=new c.default.scrollTopAnFun,this.init()}return(0,l.default)(n,[{key:"init",value:function(){var n=this,t=this._map.getFMGroup(this._foucusId),e=this.createPanel(this._btnWidth,t.groupName);this._mainPanel=e,this._map.getContainer().appendChild(e);var o=this._map.listGroups.map(function(t){return t.gid}),r=o.length,t=this._showBtnCount;r<=this._showBtnCount&&(t=r);var i=this.createGroupBtnPanel(t*this._btnWidth+2*(t-1));this._map.getContainer().appendChild(i),this._btnPanel=i;for(var s=this._map.listGroups,u=s.length-1;-1<u;u--)i.appendChild(this.createGroupButton(s[u],this._btnWidth)),0<u&&i.appendChild(this.createHr());this.checkPosition(this._ctlOpt.position,this._ctlOpt.offset,e,i),document.getElementById("gid_"+this._foucusId).style.color="rgb(30, 130, 250)",this.eventBtnPanelInit(i),this.eventPanelInit(e,o);var a=function(t){var e=n._map.listGroups.map(function(t){return t.gid});t.gid<e[0]||t.gid>e[e.length-1]||(i.scrollTop=n.getCenterScrolltopById(t.gid,e.length),n.setFocusStaus(t.gid))};this._map.on("focusGroupIDChanged",a),this._map.on("dispose",function(t){n._map.off("focusGroupIDChanged",a),n._map.getContainer().removeChild(i),n._map.getContainer().removeChild(e)}),this._$=function(t){return(n.map?n.map.mapView.container_:document).querySelector(t)}}},{key:"eventBtnPanelInit",value:function(n){var o=this,t=this;n.onselectstart=function(){return!1},n.style.MozUserSelect="none",c.default.bindEvent(n,"label","click",function(){t.foucusId=(0,i.default)(this.dataset.gid)});var e=function(t){var e=0;t.wheelDelta?e+=-t.wheelDelta:t.detail&&(e+=t.detail),o.scrollTopAn_({el:n,to:n.scrollTop,form:n.scrollTop+e})};n.addEventListener("mousewheel",e),n.addEventListener("MozMousePixelScroll",e,!1),n.addEventListener("touchstart",this.touchstart.bind(this),!1),n.addEventListener("touchmove",this.touchmove.bind(this),!1),n.addEventListener("touchend",this.touchend.bind(this),!0)}},{key:"touchstart",value:function(t){t.preventDefault(),this.touchPointX=t.touches[0].pageX,this.touchPointY=t.touches[0].pageY,this.touchStartPointY=t.touches[0].pageY}},{key:"touchmove",value:function(t){t.preventDefault(),this.touchEndPointX=t.touches[0].pageX,this.touchEndPointY=t.touches[0].pageY,this.handleTouchEnd(t)}},{key:"handleTouchEnd",value:function(t){t=t||window.event;var e=this,n=null,o=0;0<t.changedTouches.length&&(e.touchEndPointX=t.changedTouches[0].pageX,e.touchEndPointY=t.changedTouches[0].pageY),n=t.target,n instanceof HTMLSpanElement==1&&(n=n.parentElement),n=e.touchEndPointY-e.touchPointY,o=-n,0!=o&&(e.touchPointX=e.touchEndPointX,e.touchPointY=e.touchEndPointY,e=e._$(".fm-layer-list"),this.scrollTopAn_({el:e,to:e.scrollTop,form:e.scrollTop+o}))}},{key:"touchend",value:function(t){t=t||window.event;var e=this,n=null;0<t.changedTouches.length&&(e.touchEndPointX=t.changedTouches[0].pageX,e.touchEndPointY=t.changedTouches[0].pageY),n=t.target,n instanceof HTMLSpanElement==1&&(n=n.parentElement),t=Math.abs(e.touchEndPointY-e.touchStartPointY),t<5&&0<=t&&n&&(n=(0,i.default)(n.dataset.gid),isNaN(n)||(e.foucusId=n,e.setFocusStaus(n)))}},{key:"eventPanelInit",value:function(t,e){var n=this;t.onselectstart=function(){return!1},t.style.MozUserSelect="none",t.addEventListener("click",function(){n._enableExpand&&(n._btnPanelVsible?n._btnPanel.style.display="none":n._btnPanel.style.display="block",n._btnPanel.scrollTop=n.getCenterScrolltopById(n._foucusId,e.length),n._btnPanelVsible=!n._btnPanelVsible)})}},{key:"getCenterScrolltopById",value:function(t,e){return t=e-t-Math.floor(this._showBtnCount/2),t*(this._btnWidth+2)}},{key:"createGroupBtnPanel",value:function(t){var e=document.createElement("div"),t='\n            <div style = "position: absolute; background-color: white; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; display: none; overflow: hidden;height: '.concat(t,'px;" class="fm-layer-list"> </div\n        ');return e.innerHTML=t.trim(),e.firstChild}},{key:"createPanel",value:function(t,e){return t='<div class="fm-control-groups-btn" style="z-index: 20;width: '.concat(t,'px; height: 42px; position: absolute; background-color: white; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; text-align: center; cursor: pointer; font-size: 0.8em; font-weight: bold; text-transform: uppercase; line-height: 42px; color: rgb(30, 130, 250);">').concat(e.toUpperCase(),"</div>"),e=document.createElement("div"),e.innerHTML=t.trim(),e.firstChild}},{key:"createHr",value:function(){var t=document.createElement("div"),e='\n            <hr style="height: 1px; border-top: 1px solid rgba(153, 153, 153, 0.45); border-right: none; border-bottom: none; border-left: none; border-image: initial; width: 60%; margin: 0px 20%;">\n        ';return t.innerHTML=e.trim(),t.firstChild}},{key:"createGroupButton",value:function(t,e){var n=document.createElement("div"),t="<label  data-gid=".concat(t.gid,' id="gid_').concat(t.gid,'" style="display: inline-block; text-align: center; width: ').concat(e,"px; height: ").concat(e,"px; line-height: ").concat(e,'px; margin: 0px; cursor: pointer; font-size: 0.8em; font-weight: bold; color: rgb(102, 102, 102);">\n                        <span>').concat(t.alias&&t.alias.toUpperCase()||t.gname.toUpperCase(),"</span>\n                    </label>");return n.innerHTML=t.trim(),n.firstChild}},{key:"checkPosition",value:function(t,e,n,o){switch(n.style.left="",n.style.right="",n.style.top="",n.style.bottom="",o.style.left="",o.style.right="",o.style.top="",o.style.bottom="",t){case p.default.LEFT_TOP:n.style.left=e.x+"px",n.style.top=e.y+"px",o.style.left=e.x+"px",o.style.top=e.y+this._disMainPanel+"px";break;case p.default.RIGHT_TOP:n.style.right=-e.x+"px",n.style.top=e.y+"px",o.style.right=-e.x+"px",o.style.top=e.y+this._disMainPanel+"px";break;case p.default.LEFT_BOTTOM:n.style.left=e.x+"px",n.style.bottom=-e.y+"px",o.style.left=e.x+"px",o.style.bottom=-e.y+this._disMainPanel+"px";break;case p.default.RIGHT_BOTTOM:n.style.right=-e.x+"px",n.style.bottom=-e.y+"px",o.style.right=-e.x+"px",o.style.bottom=-e.y+this._disMainPanel+"px";break;default:n.style.left=e.x+"px",n.style.top=e.y+"px",o.style.left=e.x+"px",o.style.top=e.y+this._disMainPanel+"px"}}},{key:"onChange",value:function(t){s=t}},{key:"changeFocusGroup",value:function(t,e){this._map.showSingerOrMultiGroup(e),this.foucusId=t}},{key:"foucusId",set:function(t){var e=[];e.push.apply(e,(0,u.default)(this._map.visibleGroupIDs)),1==e.length?this._map.visibleGroupIDs=[t]:-1<this._map.visibleGroupIDs.indexOf(t)||(e.push(t),this._map.visibleGroupIDs=e),this._map.changeFocusToGroup({gid:t}),s&&s([t],this._map.showAllGroup)}},{key:"getGroupNameByGid",value:function(t){for(var e=this._map.listGroups,n=0,o=e.length;n<o;n++){var r=e[n];if(r.gid==t)return r.gname.toUpperCase()}return""}},{key:"setFocusStaus",value:function(t){this._mainPanel.innerHTML="".concat(this.getGroupNameByGid(t)),document.getElementById("gid_"+this._foucusId).style.color="rgb(102, 102, 102)",this._foucusId=t,document.getElementById("gid_"+this._foucusId).style.color="rgb(30, 130, 250)"}},{key:"allLayer",get:function(){return this._map.showAllGroup}},{key:"enableExpand",get:function(){return this._enableExpand},set:function(t){this._enableExpand=t}},{key:"expand",get:function(){return this._btnPanelVsible},set:function(t){var e;this._enableExpand&&(this._btnPanel.style.display=t?"block":"none",e=this._map.listGroups.map(function(t){return t.gid}),this._btnPanel.scrollTop=this.getCenterScrolltopById(this._foucusId,e.length),this._btnPanelVsible=t)}}]),n}(),n=n;e.default=n},function(t,e,n){"use strict";var o=n(0),r=n(4);o(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(8)),s=r(n(10)),u=r(n(155)),a=r(n(17)),l=r(n(23)),n=function(){function n(t,e){(0,i.default)(this,n),this._map=t,this._ctlOpt=new a.default(e),this._mainPanel=null,this._viewModeButton=null,this._groupChange=null,this._viewModeButtonNeeded=void 0===e.viewModeButtonNeeded||e.viewModeButtonNeeded,this._groupsButtonNeeded=void 0===e.groupsButtonNeeded||e.groupsButtonNeeded,this._init2D=void 0!==e.init2D&&e.init2D,this._initGroups=void 0!==e.initGroups&&e.initGroups,this._init2D&&(this._map.viewMode="top"),this._initGroups&&this._map.showSingerOrMultiGroup(!0),this._isOpenedControl=!1,this._showAllGroup=this._initGroups,this._direct=e.position||l.default.RIGHT_TOP,this._offset={x:0,y:0},e.offset&&(this._offset=e.offset),this.init()}return(0,s.default)(n,[{key:"init",value:function(){var e=this;this._mainPanel=this.createPanel(this._ctlOpt.imgURL+"more.png"),this._viewModeButton=this.createTopAnd3DButton(this._ctlOpt.imgURL+(this._init2D?"2D.png":"3D.png")),this._groupChange=this.createMultiAndSingerButton(this._ctlOpt.imgURL+(this._showAllGroup?"groups.png":"group.png")),(this._viewModeButtonNeeded||this._groupsButtonNeeded)&&this._map.getContainer().appendChild(this._mainPanel),this._viewModeButtonNeeded&&this._map.getContainer().appendChild(this._viewModeButton),this._groupsButtonNeeded&&this._map.getContainer().appendChild(this._groupChange);var t=this._offset;this._viewModeButtonNeeded&&this._groupsButtonNeeded?(this._mainPanel.style.display="block",this.checkPosition(this._direct,t,this._mainPanel),this.checkPosition(this._direct,t,this._viewModeButton,!0,1),this.checkPosition(this._direct,t,this._groupChange,!0,2)):this._viewModeButtonNeeded?(this._viewModeButton.style.display="block",this.checkPosition(this._direct,t,this._viewModeButton,!0,1)):this._groupsButtonNeeded&&(this._groupChange.style.display="block",this.checkPosition(this._direct,t,this._groupChange,!0,1)),this.initMainPanelEvent(this._mainPanel),this.initMultiGroupPanelEvent(this._groupChange),this.initViewModePanelEvent(this._viewModeButton);var n=function(t){e.setViewModeButtonPic()};this._map.on("viewModeChange",n);var o=function(t){e.setSingleMultiStatus(1<t.gids.length)};this._map.on("visibleGroupIDsChanged",o),this._map.on("dispose",function(t){e._map.off("visibleGroupIDsChanged",o),e._map.off("viewModeChange",n),e._map.getContainer().contains(e._mainPanel)&&e._map.getContainer().removeChild(e._mainPanel),e._map.getContainer().contains(e._viewModeButton)&&e._map.getContainer().removeChild(e._viewModeButton),e._map.getContainer().contains(e._groupChange)&&e._map.getContainer().removeChild(e._groupChange)})}},{key:"isAllGroups",value:function(){return this._map.showAllGroup}},{key:"initMainPanelEvent",value:function(t){var e=this;t.addEventListener("click",function(){e._isOpenedControl?(e._groupChange.style.display="none",e._viewModeButton.style.display="none",this.style.backgroundImage="url("+e._ctlOpt.imgURL+"more.png)"):(e._groupChange.style.display="block",e._viewModeButton.style.display="block",this.style.backgroundImage="url("+e._ctlOpt.imgURL+"less.png)"),e._isOpenedControl=!e._isOpenedControl})}},{key:"initViewModePanelEvent",value:function(t){var e=this;t.addEventListener("click",function(){e._map.viewMode===u.default.MODE_3D?(e._map.viewMode=u.default.MODE_2D,this.style.backgroundImage="url("+e._ctlOpt.imgURL+"2D.png)"):(e._map.viewMode=u.default.MODE_3D,this.style.backgroundImage="url("+e._ctlOpt.imgURL+"3D.png)")})}},{key:"setViewModeButtonPic",value:function(){this._map.viewMode===u.default.MODE_3D?this._viewModeButton.style.backgroundImage="url("+this._ctlOpt.imgURL+"3D.png)":this._viewModeButton.style.backgroundImage="url("+this._ctlOpt.imgURL+"2D.png)"}},{key:"initMultiGroupPanelEvent",value:function(t){var e=this;t.addEventListener("click",function(){e._showAllGroup?(e._map.showSingerOrMultiGroup(!1),this.style.backgroundImage="url("+e._ctlOpt.imgURL+"group.png)"):(e._map.showSingerOrMultiGroup(!0),this.style.backgroundImage="url("+e._ctlOpt.imgURL+"groups.png)"),e._showAllGroup=!e._showAllGroup})}},{key:"setSingleMultiStatus",value:function(t){this._groupChange.style.backgroundImage=t?"url("+this._ctlOpt.imgURL+"group.png)":"url("+this._ctlOpt.imgURL+"groups.png)"}},{key:"createPanel",value:function(t){var e=document.createElement("div"),t='<div class="fm-control-tool" style="z-index: 20; display: none;position: absolute; height: 42px; width: 42px; cursor: pointer; background: url(&quot;'.concat(t,'&quot;) 50% 50% no-repeat white; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; "></div>');return e.innerHTML=t.trim(),e.firstChild}},{key:"createTopAnd3DButton",value:function(t){var e=document.createElement("div"),t='<div class="fm-control-tool-3d" style="position: absolute; z-index:20; display: none;height: 42px; width: 42px; padding: 0px; cursor: pointer; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; background: url(&quot;'.concat(t,'&quot;) 50% 50% no-repeat white;"></div>');return e.innerHTML=t.trim(),e.firstChild}},{key:"createMultiAndSingerButton",value:function(t){var e=document.createElement("div"),t='<div class="fm-control-tool-group" style="position: absolute; z-index:20; display: none;height: 42px; width: 42px; padding: 0px; margin-top: 10px; cursor: pointer; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; background: url(&quot;'.concat(t,'&quot;) 50% 50% no-repeat white;"></div>');return e.innerHTML=t.trim(),e.firstChild}},{key:"checkPosition",value:function(t,e,n,o,r){n.style.left="",n.style.right="",n.style.top="",n.style.bottom="";var i=0;switch(t){case l.default.LEFT_TOP:1==o?(i=1==r?62:124,n.style.left=e.x+"px",n.style.top=e.y+i+"px"):(n.style.left=e.x+"px",n.style.top=e.y+"px");break;case l.default.RIGHT_TOP:1==o?(i=1==r?62:124,n.style.right=-e.x+"px",n.style.top=e.y+i+"px"):(n.style.right=-e.x+"px",n.style.top=e.y+"px");break;case l.default.LEFT_BOTTOM:1==o?(i=1==r?-62:-124,n.style.left=e.x+"px",n.style.bottom=-e.y-i+"px"):(n.style.left=e.x+"px",n.style.bottom=-e.y+"px");break;case l.default.RIGHT_BOTTOM:1==o?(i=1==r?-62:-124,n.style.right=-e.x+"px",n.style.bottom=-e.y-i+"px"):(n.style.right=-e.x+"px",n.style.bottom=-e.y+"px");break;default:n.style.left=e.x+"px",n.style.top=e.y+"px"}}}]),n}(),n=n;e.default=n},function(t,e,n){"use strict";n=n(0),n(e,"__esModule",{value:!0}),e.default=void 0,n={MODE_2D:"top",MODE_3D:"3d"},e.default=n},function(t,e,n){"use strict";var o=n(0),r=n(4);o(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(8)),s=r(n(10)),u=r(n(31)),n=function(){function o(t,e,n){(0,i.default)(this,o),this._map=t,this._opt=e,this._coord=e.mapCoord,this._threeCoord=e.threeCoord,this._window=null,this.marker=n,this._content=e.content||"<span>我是气泡</span>",this._width=e.width||200,this._height=e.height||100,this._padding=e._padding||10,this.init(),this.dispose}return(0,s.default)(o,[{key:"bindMarker",value:function(t){t&&t instanceof fengmap.FMImageMarker&&(this.marker=t)}},{key:"init",value:function(){var e=this;this._window=this.createWindow(this._content,this._width,this._height,this._padding,this._opt.margintop),this._window.style.left="0px",this._window.style.top="0px",this._map.getContainer().appendChild(this._window),this._map.registeredPop(this),u.default.bindEvent(this._window,".fm-control-popmarker-closebtn","click",function(){e.close()}),this._map.updatePopPosition(this),this.dispose=function(t){e._map.logoutPop(e),e._map.getContainer().removeChild(e._window)},this._map.on("dispose",this.dispose)}},{key:"close",value:function(){this._map.off("dispose",this.dispose),this._map.getContainer().removeChild(this._window),this._map.logoutPop(this),this._opt.closeCallBack&&this._opt.closeCallBack(this)}},{key:"updateCoord",value:function(t,e){var n=0;this._coord&&this._coord.height&&(n=this._coord.height),-1<navigator.userAgent.indexOf("Edge")||-1<navigator.userAgent.indexOf(".NET4.0C")?this._window.style.transform="translate(".concat(t-this._width/2,"px, ").concat(e-this._height-20-n,"px)"):this._window.style.webkitTransform="translate(".concat(t-this._width/2,"px, ").concat(e-this._height-20-n,"px)")}},{key:"createWindow",value:function(t,e,n,o,r){var i=document.createElement("div"),t='<div class="z-index: 20;fm-control-popmarker" style="box-sizing: border-box;width: '.concat(e,"px; height: ").concat(n,"px; padding: ").concat(o,'px; background-color: rgb(255, 255, 255); border: 1px solid rgba(0, 0, 0, 0.2); border-radius: 6px; position: absolute;">\n            <input type="button" class="fm-control-popmarker-closebtn" value="✖" style="border-radius: 50%; position: absolute; right: 10px; top: 8px; background: 0px 0px rgb(238, 238, 238); width: 24px; height: 24px; border: 0px; -webkit-appearance: none;">\n            <span class="fm-control-popmarker-bot" style="width: 0px; height: 0px; font-size: 0px; overflow: hidden; position: absolute; border-width: 20px; border-style: solid dashed dashed; border-color: rgba(0, 0, 0, 0.2) transparent transparent; left: ').concat(e/2-20,'px; bottom: -40px;"></span>\n            <span class="fm-control-popmarker-top" style="width: 0px; height: 0px; font-size: 0px; overflow: auto; position: absolute; border-style: solid dashed dashed; border-width: 20px; border-color: rgb(255, 255, 255) transparent transparent; left: ').concat(e/2-20,'px; bottom: -39px;"></span>\n            <div style="overflow:auto;height:').concat(n-2*o,"px;margin-top:").concat(r||0,'px">\n                ').concat(t,"\n            </div></div>");return i.innerHTML=t.trim(),i.firstChild}},{key:"coord",get:function(){return this._coord}},{key:"threeCoord",get:function(){return this._threeCoord}}]),o}(),n=n;e.default=n},function(t,e,n){"use strict";var o=n(0),r=n(4);o(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n(8)),s=r(n(10)),u=r(n(23)),n=function(){function n(t,e){(0,i.default)(this,n),this._map=t,this._option=e,this._compass=null,this._compassDiv=null,this._init()}return(0,s.default)(n,[{key:"_init",value:function(){var t=document.createElement("div");t.style.cssText="position:absolute;left:10px;top:10px;",t.style.width="50px",t.style.height="50px",t.style.backgroundColor="#FFFFFF",t.style.backgroundSize="100% 100%",t.style.zIndex=20,this._option.bgimage&&(t.style.backgroundImage="url('"+this._option.bgimage+"')"),t.style.borderRadius="80px",this._option.position&&this._option.offset&&this.checkPosition(this._option.position,this._option.offset,t),this._option.width&&(t.style.width=this._option.width+"px"),this._option.height&&(t.style.height=this._option.height+"px"),this._option.contain.appendChild(t);var e=180*this._map.controls.getAzimuthalAngle()/Math.PI;this._compass=document.createElement("div"),this._compass.style.cssText="position:absolute;left:0px;top:0px;",this._compass.style.transform="rotate("+e+"deg)",this._compass.style.msTransform="rotate("+e+"deg)",this._compass.style.mozTransform="rotate("+e+"deg)",this._compass.style.webkitTransform="rotate("+e+"deg)",this._compass.style.oTransform="rotate("+e+"deg)",this._compass.style.width="100%",this._compass.style.height="100%",this._compass.style.backgroundSize="100% 100%",this._compass.style.backgroundImage="url('"+this._option.compassimage+"')",t.appendChild(this._compass),this._compassDiv=t,this._start()}},{key:"_start",value:function(){var e=this;setInterval(function(){var t=180*e._map.controls.getAzimuthalAngle()/Math.PI;e._compass.style.transform="rotate("+t+"deg)",e._compass.style.msTransform="rotate("+t+"deg)",e._compass.style.mozTransform="rotate("+t+"deg)",e._compass.style.webkitTransform="rotate("+t+"deg)",e._compass.style.oTransform="rotate("+t+"deg)",e._compass.style.top="0px",e._compass.style.left="0px"},50)}},{key:"addClickCompass",value:function(e){this._compassDiv.onclick=function(t){e()}}},{key:"checkPosition",value:function(t,e,n){switch(n.style.left="",n.style.right="",n.style.top="",n.style.bottom="",t){case u.default.LEFT_TOP:n.style.left=e.x+"px",n.style.top=e.y+"px";break;case u.default.RIGHT_TOP:n.style.right=-e.x+"px",n.style.top=e.y+"px";break;case u.default.LEFT_BOTTOM:n.style.left=e.x+"px",n.style.bottom=-e.y+"px";break;case u.default.RIGHT_BOTTOM:n.style.right=-e.x+"px",n.style.bottom=-e.y+"px";break;default:n.style.left=e.x+"px",n.style.top=e.y+"px"}}}]),n}(),n=n;e.default=n}],o={},r.m=n,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=78).default;function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,o});